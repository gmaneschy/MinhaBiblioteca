{% extends 'base.html' %}

{% block title %}Nova Senha{% endblock %}

{% block content %}
<h2>Defina uma nova senha</h2>

<form method="post">
    {% csrf_token %}  <!-- DEVE estar DENTRO do formulário -->

    <!-- Exibir erros gerais do formulário -->
    {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}

    <p>
        <label for="id_new_password1">Nova senha:</label>
        <input type="password" name="new_password1" autocomplete="new-password" required
               aria-describedby="id_new_password1_helptext" id="id_new_password1">
        <!-- Exibir erros específicos do campo -->
        {% if form.new_password1.errors %}
            <div class="error">{{ form.new_password1.errors }}</div>
        {% endif %}
        <small id="id_new_password1_helptext" class="form-text text-muted">
            Sua senha deve conter pelo menos 8 caracteres.
        </small>
    </p>

    <p>
        <label for="id_new_password2">Confirme a nova senha:</label>
        <input type="password" name="new_password2" autocomplete="new-password" required
               aria-describedby="id_new_password2_helptext" id="id_new_password2">
        <!-- Exibir erros específicos do campo -->
        {% if form.new_password2.errors %}
            <div class="error">{{ form.new_password2.errors }}</div>
        {% endif %}
    </p>

    <button type="submit">Salvar nova senha</button>
</form>


{% endblock %}
